# WebP to PNG Conversion Script

The WebP to PNG Conversion script and the first draft of this README were generated by the [Iterative Coding GPT](https://chat.openai.com/c/7ad03bf4-8081-411e-bd62-d863321dfb66) in **less than 5 minutes** using the following sequential prompts:

> 1. write a python script that reads a list of '.webp' images from a directory called "originals" and exports to png into a directory called "images". the script will be run on a mac using python 3.11
> 2. next iteration
> 3. next iteration: prompt the user if an image already exists in the 'images' directory with the same name "replace or skip?"
> 4. are there any other features that would be useful?
> 5. next iteration: Batch Processing Option. the default should be to process single file.
> 6. would a test suite be useful for this script?
> 7. next iteration: add a test suite method and test cases to the script. the test suite can be called using a --test command line flag.
> 8. next iteration: write remaining test methods.
> 9. next iteration: add a command line flag for batch mode. if the user does not specify batch mode, the script should process a single file given as the first argument to the script.
> 10. i believe the script is ready for me to test. please generate a README describing  the script and usage examples. I will follow the readme to test the script.
> 11. here is the final script for your review. did I integrate all of the code changes correctly? \<pasted script>

## Overview
This Python script provides a convenient tool for converting images from WebP format to PNG. It supports both single file conversion and batch processing of multiple files within a directory. Additionally, the script includes a test suite that can be run to verify its functionality.

## Requirements
- Python 3.6 or newer
- Pillow library (`PIL`)
- Argparse (usually included with Python)

Before running the script, ensure you have the Pillow library installed. You can install it using pip:

```bash
pip install Pillow
```

## Usage

### Basic Conversion
To convert a single WebP image to PNG, use the following command format:

```bash
python script_name.py <source_webp_file> <target_directory>
```

**Example:**

```bash
python script_name.py originals/myimage.webp images
```

This command converts `myimage.webp` from the `originals` directory and saves the resulting PNG image to the `images` directory.

### Batch Processing
To convert all WebP images in a directory to PNG format, use the `--batch` flag:

```bash
python script_name.py <source_directory> <target_directory> --batch
```

**Example:**

```bash
python script_name.py originals images --batch
```

This command processes all `.webp` files found in the `originals` directory and saves the converted PNG images to the `images` directory.

### Running Tests
The script includes a test suite for verifying its functionality. To run the tests, use the `--test` flag:

```bash
python script_name.py --test
```

## Script Features
- **Single File and Batch Conversion**: Choose between converting a single WebP file or batch processing an entire directory.
- **Command Line Interface**: Easily specify the source file or directory, target directory, and whether to enable batch mode via command line arguments.
- **Interactive File Conflict Resolution**: When a PNG file with the same name already exists in the target directory, the script prompts the user to replace or skip the file.
- **Test Suite**: Run a suite of tests to ensure the script works as expected across various scenarios.

## Logging
The script logs its operations, including successful conversions, skipped files, and errors, to a file named `conversion_log.log`. This log file is created in the same directory where the script is run.

---

Ensure you follow the usage examples accurately and have the required setup ready before testing the script. If you encounter any issues or have feedback, consider revisiting the script or the README for clarifications or adjustments.
